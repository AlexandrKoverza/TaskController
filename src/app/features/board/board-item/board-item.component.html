<section class="board-item">
  <div class="container">
    <div class="board-item-inner" *ngIf="board$ | async as board">
      <div class="board-item-top board-top">
        <button class="board-top__back" (click)="back()">ðŸ ˜</button>
        <span class="board-top__name">{{ board.name }}</span>
        <button class="board-top__delete" (click)="deleteBoard(board.id)">
          Delete board
        </button>
      </div>
      <div class="tasks-row" cdkDropListGroup>
        <div class="task" *ngFor="let column of boardColumns" cdkDropList (cdkDropListDropped)="drop($event)"
          [cdkDropListData]="board.tasks">
          <div class="task-do__top">
            <span class="task-do__name">{{ column.type }}</span>
            <form class="task-do__block" [formGroup]="form" (ngSubmit)="addTask(column.type, column.color, board.id, column)">
              <input type="text" class="task-do__input" placeholder="create new task" formControlName="description"/>
              <button class="task-do__button">
                <img src="assets/images/plus.svg" alt="image" />
              </button>
            </form>
          </div>
          <div *ngFor="let item of board.tasks">
            <div *ngIf="item.type === column.type">
              <div class="task-list">
                <app-task cdkDrag [cdkDragData]="item" [item]="item" (emitDeleteItem)="onDeleteTask(item.id)">
                  <div *ngFor="let comment of board.comments">
                    <div *ngIf="comment.taskId === item.id">
                      <app-comment [comment]="comment" (emitComment)="onDeleteComment(comment.id)">
                      </app-comment>
                    </div>
                  </div>
                </app-task>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
